{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'checkout/css/checkout.css' %}">
{% endblock %}
{% block extra_js %}
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
{% endblock %}

{% block content %}
<div class="overlay container"></div>
<div class="container header-container">
  <div class="row">
    <div class="col text-center mt-3">
      <h2 class="logo-font">Quotation</h2>
      <hr class="w-50 mb-1">
    </div>
  </div>
  <div class="container">
    <div class="col-12 col-md-6">
      <form method="POST" action="{% url 'quote' %}" class="form mb-2" enctype="multipart/form-data">
        {% csrf_token %}
        {% for field in quote_form %}

        {{ field | as_crispy_field }}

        {% endfor %}
        <div class="text-right">
          <button class="home-buttons btn btn-md rounded-0" type="submit">Get Quote!</button>
        </div>
      </form>
      {{total_price}}
    </div>
  </div>
</div>
<div id="loading-overlay">
  <h1 class="text-light logo-font loading-spinner wrapper">
    <span class="circle circle-1"></span>
    <span class="circle circle-2"></span>
    <span class="circle circle-3"></span>
    <span class="circle circle-4"></span>
  </h1>
</div>
{% endblock %}

{% block postloadjs %}

<script>
  $("#contact-form").submit(function (e) {
    $('#loading-overlay').fadeToggle(100);
  })

</script>

{% endblock %}